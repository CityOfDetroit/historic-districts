{"id":"Focm","dependencies":[{"name":"/Users/doit/Documents/REPOS/historic-districts/.babelrc","includedInParent":true,"mtime":1543873779433},{"name":"/Users/doit/Documents/REPOS/historic-districts/package.json","includedInParent":true,"mtime":1543877857809},{"name":"./components/controller.class","loc":{"line":1,"column":23},"parent":"/Users/doit/Documents/REPOS/historic-districts/index.js","resolved":"/Users/doit/Documents/REPOS/historic-districts/components/controller.class.js"}],"generated":{"js":"\"use strict\";var e=t(require(\"./components/controller.class\"));function t(e){return e&&e.__esModule?e:{default:e}}!function(){const t=new e.default(document.querySelector(\".content-section\"));t.map.map.on(\"mousemove\",function(e,t=this){let o=this.queryRenderedFeatures(e.point,{layers:[\"historic-locations-fill\"]});o.length&&this.setFilter(\"historic-locations-hover\",[\"==\",\"OBJECTID\",o[0].properties.OBJECTID]),this.getCanvas().style.cursor=o.length?\"pointer\":\"\"}),t.map.map.on(\"mouseleave\",\"historic-locations-fill\",function(){this.setFilter(\"historic-locations-hover\",[\"==\",\"OBJECTID\",\"\"])}),t.map.map.on(\"click\",function(e,o=this){const n=this.queryRenderedFeatures(e.point,{layers:[\"historic-locations-fill\"]});n.length&&t.updatePanel(n[0],t),document.querySelector(\".data-panel\").className=\"data-panel active\"}),t.map.geocoder.on(\"result\",function(e){console.log(e),t.geocoderOff?(t.geocoderOff=!1,t.geoResults(e,t)):console.log(\"extra call\")}),document.getElementById(\"close-panel-btn\").addEventListener(\"click\",function(){t.panel.clearPanel(),document.querySelector(\".data-panel.active\").className=\"data-panel\"}),document.querySelectorAll(\"#user-type-section button\").forEach(function(e){e.addEventListener(\"click\",function(e){t.initialForm(e.target.attributes[2].nodeValue,t)})});document.getElementById(\"logo\").addEventListener(\"click\",function(){window.location.reload(!0)})}(window);","map":{"mappings":[{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":0}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":29}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":63}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":72}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":74}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":77}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":84}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":87}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":89}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":100}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":102}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":103}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":111}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":115}},{"source":"index.js","name":"controller","original":{"line":5,"column":8},"generated":{"line":1,"column":126}},{"source":"index.js","name":"controller","original":{"line":5,"column":8},"generated":{"line":1,"column":132}},{"source":"index.js","original":{"line":5,"column":21},"generated":{"line":1,"column":134}},{"source":"index.js","name":"Controller","original":{"line":5,"column":25},"generated":{"line":1,"column":138}},{"source":"index.js","original":{"line":5,"column":21},"generated":{"line":1,"column":140}},{"source":"index.js","name":"document","original":{"line":5,"column":36},"generated":{"line":1,"column":148}},{"source":"index.js","name":"querySelector","original":{"line":5,"column":45},"generated":{"line":1,"column":157}},{"source":"index.js","original":{"line":5,"column":59},"generated":{"line":1,"column":171}},{"source":"index.js","name":"controller","original":{"line":7,"column":2},"generated":{"line":1,"column":192}},{"source":"index.js","name":"map","original":{"line":7,"column":13},"generated":{"line":1,"column":194}},{"source":"index.js","name":"map","original":{"line":7,"column":17},"generated":{"line":1,"column":198}},{"source":"index.js","name":"on","original":{"line":7,"column":21},"generated":{"line":1,"column":202}},{"source":"index.js","original":{"line":7,"column":24},"generated":{"line":1,"column":205}},{"source":"index.js","original":{"line":7,"column":37},"generated":{"line":1,"column":217}},{"source":"index.js","name":"e","original":{"line":7,"column":47},"generated":{"line":1,"column":226}},{"source":"index.js","name":"parent","original":{"line":7,"column":50},"generated":{"line":1,"column":228}},{"source":"index.js","original":{"line":7,"column":59},"generated":{"line":1,"column":230}},{"source":"index.js","name":"features","original":{"line":8,"column":8},"generated":{"line":1,"column":236}},{"source":"index.js","name":"features","original":{"line":8,"column":8},"generated":{"line":1,"column":240}},{"source":"index.js","original":{"line":8,"column":19},"generated":{"line":1,"column":242}},{"source":"index.js","name":"queryRenderedFeatures","original":{"line":8,"column":24},"generated":{"line":1,"column":247}},{"source":"index.js","name":"e","original":{"line":8,"column":46},"generated":{"line":1,"column":269}},{"source":"index.js","name":"point","original":{"line":8,"column":48},"generated":{"line":1,"column":271}},{"source":"index.js","original":{"line":8,"column":55},"generated":{"line":1,"column":277}},{"source":"index.js","name":"layers","original":{"line":9,"column":6},"generated":{"line":1,"column":278}},{"source":"index.js","original":{"line":9,"column":14},"generated":{"line":1,"column":285}},{"source":"index.js","original":{"line":9,"column":15},"generated":{"line":1,"column":286}},{"source":"index.js","name":"features","original":{"line":11,"column":8},"generated":{"line":1,"column":315}},{"source":"index.js","name":"length","original":{"line":11,"column":17},"generated":{"line":1,"column":317}},{"source":"index.js","name":"setFilter","original":{"line":12,"column":11},"generated":{"line":1,"column":325}},{"source":"index.js","name":"setFilter","original":{"line":12,"column":11},"generated":{"line":1,"column":330}},{"source":"index.js","original":{"line":12,"column":21},"generated":{"line":1,"column":340}},{"source":"index.js","original":{"line":12,"column":49},"generated":{"line":1,"column":367}},{"source":"index.js","original":{"line":12,"column":50},"generated":{"line":1,"column":368}},{"source":"index.js","original":{"line":12,"column":56},"generated":{"line":1,"column":373}},{"source":"index.js","name":"features","original":{"line":12,"column":68},"generated":{"line":1,"column":384}},{"source":"index.js","original":{"line":12,"column":77},"generated":{"line":1,"column":386}},{"source":"index.js","name":"properties","original":{"line":12,"column":80},"generated":{"line":1,"column":389}},{"source":"index.js","name":"OBJECTID","original":{"line":12,"column":91},"generated":{"line":1,"column":400}},{"source":"index.js","name":"getCanvas","original":{"line":16,"column":9},"generated":{"line":1,"column":411}},{"source":"index.js","name":"getCanvas","original":{"line":16,"column":9},"generated":{"line":1,"column":416}},{"source":"index.js","name":"style","original":{"line":16,"column":21},"generated":{"line":1,"column":428}},{"source":"index.js","name":"cursor","original":{"line":16,"column":27},"generated":{"line":1,"column":434}},{"source":"index.js","name":"features","original":{"line":16,"column":37},"generated":{"line":1,"column":441}},{"source":"index.js","name":"length","original":{"line":16,"column":46},"generated":{"line":1,"column":443}},{"source":"index.js","original":{"line":16,"column":56},"generated":{"line":1,"column":450}},{"source":"index.js","original":{"line":16,"column":68},"generated":{"line":1,"column":460}},{"source":"index.js","name":"controller","original":{"line":18,"column":2},"generated":{"line":1,"column":465}},{"source":"index.js","name":"map","original":{"line":18,"column":13},"generated":{"line":1,"column":467}},{"source":"index.js","name":"map","original":{"line":18,"column":17},"generated":{"line":1,"column":471}},{"source":"index.js","name":"on","original":{"line":18,"column":21},"generated":{"line":1,"column":475}},{"source":"index.js","original":{"line":18,"column":24},"generated":{"line":1,"column":478}},{"source":"index.js","original":{"line":18,"column":38},"generated":{"line":1,"column":491}},{"source":"index.js","original":{"line":18,"column":65},"generated":{"line":1,"column":517}},{"source":"index.js","name":"setFilter","original":{"line":19,"column":9},"generated":{"line":1,"column":528}},{"source":"index.js","name":"setFilter","original":{"line":19,"column":9},"generated":{"line":1,"column":533}},{"source":"index.js","original":{"line":19,"column":19},"generated":{"line":1,"column":543}},{"source":"index.js","original":{"line":19,"column":47},"generated":{"line":1,"column":570}},{"source":"index.js","original":{"line":19,"column":48},"generated":{"line":1,"column":571}},{"source":"index.js","original":{"line":19,"column":54},"generated":{"line":1,"column":576}},{"source":"index.js","original":{"line":19,"column":66},"generated":{"line":1,"column":587}},{"source":"index.js","name":"controller","original":{"line":21,"column":2},"generated":{"line":1,"column":594}},{"source":"index.js","name":"map","original":{"line":21,"column":13},"generated":{"line":1,"column":596}},{"source":"index.js","name":"map","original":{"line":21,"column":17},"generated":{"line":1,"column":600}},{"source":"index.js","name":"on","original":{"line":21,"column":21},"generated":{"line":1,"column":604}},{"source":"index.js","original":{"line":21,"column":24},"generated":{"line":1,"column":607}},{"source":"index.js","original":{"line":21,"column":33},"generated":{"line":1,"column":615}},{"source":"index.js","name":"e","original":{"line":21,"column":43},"generated":{"line":1,"column":624}},{"source":"index.js","name":"parent","original":{"line":21,"column":46},"generated":{"line":1,"column":626}},{"source":"index.js","original":{"line":21,"column":55},"generated":{"line":1,"column":628}},{"source":"index.js","name":"features","original":{"line":22,"column":10},"generated":{"line":1,"column":634}},{"source":"index.js","name":"features","original":{"line":22,"column":10},"generated":{"line":1,"column":640}},{"source":"index.js","original":{"line":22,"column":21},"generated":{"line":1,"column":642}},{"source":"index.js","name":"queryRenderedFeatures","original":{"line":22,"column":26},"generated":{"line":1,"column":647}},{"source":"index.js","name":"e","original":{"line":22,"column":48},"generated":{"line":1,"column":669}},{"source":"index.js","name":"point","original":{"line":22,"column":50},"generated":{"line":1,"column":671}},{"source":"index.js","original":{"line":22,"column":57},"generated":{"line":1,"column":677}},{"source":"index.js","name":"layers","original":{"line":23,"column":6},"generated":{"line":1,"column":678}},{"source":"index.js","original":{"line":23,"column":14},"generated":{"line":1,"column":685}},{"source":"index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":686}},{"source":"index.js","name":"features","original":{"line":26,"column":8},"generated":{"line":1,"column":715}},{"source":"index.js","name":"length","original":{"line":26,"column":17},"generated":{"line":1,"column":717}},{"source":"index.js","name":"controller","original":{"line":27,"column":6},"generated":{"line":1,"column":725}},{"source":"index.js","name":"updatePanel","original":{"line":27,"column":17},"generated":{"line":1,"column":727}},{"source":"index.js","name":"features","original":{"line":27,"column":29},"generated":{"line":1,"column":739}},{"source":"index.js","original":{"line":27,"column":38},"generated":{"line":1,"column":741}},{"source":"index.js","name":"controller","original":{"line":27,"column":42},"generated":{"line":1,"column":744}},{"source":"index.js","name":"document","original":{"line":31,"column":4},"generated":{"line":1,"column":747}},{"source":"index.js","name":"querySelector","original":{"line":31,"column":13},"generated":{"line":1,"column":756}},{"source":"index.js","original":{"line":31,"column":27},"generated":{"line":1,"column":770}},{"source":"index.js","name":"className","original":{"line":31,"column":42},"generated":{"line":1,"column":785}},{"source":"index.js","original":{"line":31,"column":54},"generated":{"line":1,"column":795}},{"source":"index.js","name":"controller","original":{"line":33,"column":2},"generated":{"line":1,"column":817}},{"source":"index.js","name":"map","original":{"line":33,"column":13},"generated":{"line":1,"column":819}},{"source":"index.js","name":"geocoder","original":{"line":33,"column":17},"generated":{"line":1,"column":823}},{"source":"index.js","name":"on","original":{"line":33,"column":26},"generated":{"line":1,"column":832}},{"source":"index.js","original":{"line":33,"column":29},"generated":{"line":1,"column":835}},{"source":"index.js","original":{"line":33,"column":39},"generated":{"line":1,"column":844}},{"source":"index.js","name":"ev","original":{"line":33,"column":49},"generated":{"line":1,"column":853}},{"source":"index.js","name":"console","original":{"line":34,"column":4},"generated":{"line":1,"column":856}},{"source":"index.js","name":"log","original":{"line":34,"column":12},"generated":{"line":1,"column":864}},{"source":"index.js","name":"ev","original":{"line":34,"column":16},"generated":{"line":1,"column":868}},{"source":"index.js","name":"controller","original":{"line":35,"column":7},"generated":{"line":1,"column":871}},{"source":"index.js","name":"geocoderOff","original":{"line":35,"column":18},"generated":{"line":1,"column":873}},{"source":"index.js","name":"controller","original":{"line":36,"column":6},"generated":{"line":1,"column":886}},{"source":"index.js","name":"geocoderOff","original":{"line":36,"column":17},"generated":{"line":1,"column":888}},{"source":"index.js","original":{"line":36,"column":31},"generated":{"line":1,"column":901}},{"source":"index.js","name":"controller","original":{"line":37,"column":6},"generated":{"line":1,"column":903}},{"source":"index.js","name":"geoResults","original":{"line":37,"column":17},"generated":{"line":1,"column":905}},{"source":"index.js","name":"ev","original":{"line":37,"column":28},"generated":{"line":1,"column":916}},{"source":"index.js","name":"controller","original":{"line":37,"column":32},"generated":{"line":1,"column":918}},{"source":"index.js","name":"console","original":{"line":39,"column":6},"generated":{"line":1,"column":922}},{"source":"index.js","name":"log","original":{"line":39,"column":14},"generated":{"line":1,"column":930}},{"source":"index.js","original":{"line":39,"column":18},"generated":{"line":1,"column":934}},{"source":"index.js","name":"document","original":{"line":43,"column":2},"generated":{"line":1,"column":950}},{"source":"index.js","name":"getElementById","original":{"line":43,"column":11},"generated":{"line":1,"column":959}},{"source":"index.js","original":{"line":43,"column":26},"generated":{"line":1,"column":974}},{"source":"index.js","name":"addEventListener","original":{"line":43,"column":45},"generated":{"line":1,"column":993}},{"source":"index.js","original":{"line":43,"column":62},"generated":{"line":1,"column":1010}},{"source":"index.js","original":{"line":43,"column":71},"generated":{"line":1,"column":1018}},{"source":"index.js","name":"controller","original":{"line":44,"column":4},"generated":{"line":1,"column":1029}},{"source":"index.js","name":"panel","original":{"line":44,"column":15},"generated":{"line":1,"column":1031}},{"source":"index.js","name":"clearPanel","original":{"line":44,"column":21},"generated":{"line":1,"column":1037}},{"source":"index.js","name":"document","original":{"line":45,"column":4},"generated":{"line":1,"column":1050}},{"source":"index.js","name":"querySelector","original":{"line":45,"column":13},"generated":{"line":1,"column":1059}},{"source":"index.js","original":{"line":45,"column":27},"generated":{"line":1,"column":1073}},{"source":"index.js","name":"className","original":{"line":45,"column":49},"generated":{"line":1,"column":1095}},{"source":"index.js","original":{"line":45,"column":61},"generated":{"line":1,"column":1105}},{"source":"index.js","name":"document","original":{"line":47,"column":23},"generated":{"line":1,"column":1120}},{"source":"index.js","name":"querySelectorAll","original":{"line":47,"column":32},"generated":{"line":1,"column":1129}},{"source":"index.js","original":{"line":47,"column":49},"generated":{"line":1,"column":1146}},{"source":"index.js","name":"forEach","original":{"line":48,"column":15},"generated":{"line":1,"column":1175}},{"source":"index.js","original":{"line":48,"column":23},"generated":{"line":1,"column":1183}},{"source":"index.js","name":"btn","original":{"line":48,"column":33},"generated":{"line":1,"column":1192}},{"source":"index.js","name":"btn","original":{"line":49,"column":4},"generated":{"line":1,"column":1195}},{"source":"index.js","name":"addEventListener","original":{"line":49,"column":8},"generated":{"line":1,"column":1197}},{"source":"index.js","original":{"line":49,"column":25},"generated":{"line":1,"column":1214}},{"source":"index.js","original":{"line":49,"column":34},"generated":{"line":1,"column":1222}},{"source":"index.js","name":"ev","original":{"line":49,"column":44},"generated":{"line":1,"column":1231}},{"source":"index.js","name":"controller","original":{"line":50,"column":6},"generated":{"line":1,"column":1234}},{"source":"index.js","name":"initialForm","original":{"line":50,"column":17},"generated":{"line":1,"column":1236}},{"source":"index.js","name":"ev","original":{"line":50,"column":29},"generated":{"line":1,"column":1248}},{"source":"index.js","name":"target","original":{"line":50,"column":32},"generated":{"line":1,"column":1250}},{"source":"index.js","name":"attributes","original":{"line":50,"column":39},"generated":{"line":1,"column":1257}},{"source":"index.js","original":{"line":50,"column":50},"generated":{"line":1,"column":1268}},{"source":"index.js","name":"nodeValue","original":{"line":50,"column":53},"generated":{"line":1,"column":1271}},{"source":"index.js","name":"controller","original":{"line":50,"column":64},"generated":{"line":1,"column":1281}},{"source":"index.js","name":"document","original":{"line":56,"column":2},"generated":{"line":1,"column":1288}},{"source":"index.js","name":"getElementById","original":{"line":56,"column":11},"generated":{"line":1,"column":1297}},{"source":"index.js","original":{"line":56,"column":26},"generated":{"line":1,"column":1312}},{"source":"index.js","name":"addEventListener","original":{"line":56,"column":34},"generated":{"line":1,"column":1320}},{"source":"index.js","original":{"line":56,"column":51},"generated":{"line":1,"column":1337}},{"source":"index.js","original":{"line":53,"column":21},"generated":{"line":1,"column":1345}},{"source":"index.js","name":"window","original":{"line":54,"column":4},"generated":{"line":1,"column":1356}},{"source":"index.js","name":"location","original":{"line":54,"column":11},"generated":{"line":1,"column":1363}},{"source":"index.js","name":"reload","original":{"line":54,"column":20},"generated":{"line":1,"column":1372}},{"source":"index.js","original":{"line":54,"column":27},"generated":{"line":1,"column":1380}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":1385}},{"source":"index.js","name":"window","original":{"line":57,"column":3},"generated":{"line":1,"column":1386}}],"sources":{"index.js":"import Controller from './components/controller.class';\n\n(function start() {\n  \n  const controller = new Controller(document.querySelector('.content-section'));\n\n  controller.map.map.on('mousemove', function (e, parent = this) {\n    let features = this.queryRenderedFeatures(e.point, {\n      layers: ['historic-locations-fill']\n    });\n    if (features.length) {\n      this.setFilter('historic-locations-hover', ['==', 'OBJECTID', features[0].properties.OBJECTID]);\n    }else{\n\n    }\n    this.getCanvas().style.cursor = (features.length) ? 'pointer' : '';\n  });\n  controller.map.map.on('mouseleave', 'historic-locations-fill', function () {\n    this.setFilter('historic-locations-hover', ['==', 'OBJECTID', '']);\n  });\n  controller.map.map.on('click', function (e, parent = this) {\n    const features = this.queryRenderedFeatures(e.point, {\n      layers: ['historic-locations-fill']\n    });\n    // console.log(e.point);\n    if (features.length) {\n      controller.updatePanel(features[0], controller);\n    } else {\n\n    }\n    document.querySelector('.data-panel').className = 'data-panel active';\n  });\n  controller.map.geocoder.on('result', function (ev) {\n    console.log(ev);\n    if(controller.geocoderOff){\n      controller.geocoderOff = false;\n      controller.geoResults(ev, controller);\n    }else{\n      console.log('extra call');\n    }\n  });\n\n  document.getElementById('close-panel-btn').addEventListener('click', function () {\n    controller.panel.clearPanel();\n    document.querySelector('.data-panel.active').className = 'data-panel';\n  });\n  const startingBtns = document.querySelectorAll('#user-type-section button');\n  startingBtns.forEach(function (btn) {\n    btn.addEventListener('click', function (ev) {\n      controller.initialForm(ev.target.attributes[2].nodeValue, controller);\n    });\n  });\n  const reloadPage = function reloadPage() {\n    window.location.reload(true);\n  };\n  document.getElementById('logo').addEventListener('click', reloadPage);\n})(window);\n"},"lineCount":null}},"hash":"c0a680cdc06f5851d4188fbda97f8d62","cacheData":{"env":{}}}